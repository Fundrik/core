deptrac:
  skip_violations:
    Fundrik\Core\Support\TypeCaster:
      # @todo Temporary skip until ID logic is moved to Domain normalizer
      - Fundrik\Core\Components\Shared\Domain\EntityId
      - Fundrik\Core\Components\Shared\Domain\Exceptions\InvalidEntityIdException
  paths:
    - ./src
  layers:
    - name: PsrLogger
      collectors:
        - type: classLike
          value: Psr\\Log\\.*

    - name: RamseyUuid
      collectors:
        - type: classLike
          value: Ramsey\\Uuid\\.*

    - name: Domain
      collectors:
        - type: classLike
          value: Fundrik\\Core\\.*\\Domain\\.*

    - name: Application
      collectors:
        - type: classLike
          value: Fundrik\\Core\\.*\\Application\\.*

    - name: Support
      collectors:
        - type: classLike
          value: Fundrik\\Core\\Support\\.*

  ruleset:
    Domain:
      - RamseyUuid
      - Support

    Application:
      - PsrLogger
      - Domain
      - Support
